<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>DotEnv 101</title>
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/blood.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">">
		<style>
			.red{
				color:red;
			}
		</style>
		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

					<section id="one">
							<h3>La gem DotEnv</h3>
							<ol>
								<li>A quoi sa sert ?</li>
								<li>Les variables d' environnements</li>
								<li>Comment on l' utilise</li>
								<li>Git &amp; Github</li>
							</ol>
					</section>
					
					<section>
						<p>Lien : <a href="https://github.com/bkeepers/dotenv" target="_blank">https://github.com/bkeepers/dotenv</a></p>
						<img src="https://i.imgur.com/yCqcW9L.png">
					</section>

					<section id="dotenv-simple0">
							<h3><span class="red">DotEnv</span> c' est quoi ?</h3>
							<p>
								C' est une petite librairie écrite en Ruby qui nous permet de modifier les <em><strong><span class="red">*variables d' environnement</span></strong></em> de nos projets. 	<img src="http://www.unixstickers.com/image/cache/data/stickers/ruby/ruby.sh-600x600.png" style="height:50px;margin:0px;
								background: none; 
								border: 0px; 
								box-shadow: none">
								<img src="http://www.skilly.com/mag/wp-content/uploads/2014/10/Ruby_on_Rails_logo.png
								" style="height:50px;margin:0px;
								background: none; 
								border: 0px; 
								box-shadow: none">
							</p>
								<p class="fragment" data-fragment-index="0" style="font-size:30px;">Un bot Tweeter en local</p>
								<p class="fragment" data-fragment-index="1" style="font-size:30px;">Une authentification sur Google</p>
								<p class="fragment" data-fragment-index="2" style="font-size:30px;">Une base de données sur Heroku</p>

							</section>

							<section id="google-auth">
									<h3>Authentification Gmail</h3>
									<p>2 variables d' environnement</p>
									<img src="https://i.imgur.com/OuWDQ0U.png">	
									<p>Sans l' utilisation de <span class="red">DotEnv</span></p>						
									<pre ><code class="ruby" data-trim contenteditable>
											Gmail.connect("david@gmail.com", "password")				
										</code></pre>
										<p class="fragment" data-fragment-index="0" data-background-transition="zoom">Avec</p>
										<pre class="fragment" data-fragment-index="0" data-background-transition="zoom"><code class="ruby" data-trim contenteditable>
												Gmail.connect(ENV['GMAIL_USERNAME'], ENV['GMAIL_PASSWORD'])				
											</code></pre>
							</section>
		

					<section id="twitter-bot">
							<h3>Le bot twitter</h3>
							<p>4 variables d' environnement</p>
							<p class="fragment" data-fragment-index="0" style="font-size:30px;">1. consumer_key</p>
								<p class="fragment" data-fragment-index="1" style="font-size:30px;">2. consumer_secret</p>
								<p class="fragment" data-fragment-index="2" style="font-size:30px;">3. access_token</p>
								<p class="fragment" data-fragment-index="3" style="font-size:30px;">4. access_token_secret</p>

							<pre class="fragment" data-fragment-index="4" data-background-transition="zoom"><code class="ruby" data-trim contenteditable>
							
client = Twitter::REST::Client.new do |config|
  config.consumer_key = ENV['TWITTER_CONSUMER_KEY']
  config.consumer_secret = ENV['TWITTER_CONSUMER_SECRET']
  config.access_token = ENV['TWITTER_ACCESS_TOKEN']
  config.access_token_secret = ENV['TWITTER_ACCESS_SECRET']
end
									
								</code></pre>
					</section>

					<section>	
						<h3>Example d' un fichier .env</h3>
						<pre><code class="zsh">
# GMAIL CONNECTION
ENV['GMAIL_USERNAME']=david@gmail.com
ENV['GMAIL_PASSWORD']=password

# TWITTER API
ENV['TWITTER_CONSUMER_KEY']=738d5ee5-ce38-44d4-b8f9-24c95de59b03
ENV['TWITTER_CONSUMER_SECRET']=474a09c3-523e-498c-9f48-b0fcb0389b28
ENV['TWITTER_ACCESS_TOKEN']=aef9bd74-b52f-40fd-aa5f-77f7e079f0e8
ENV['TWITTER_ACCESS_SECRET']=64a84f8d-75cb-4689-8707-57937e5f7534
						</code></pre>
					</section>

				

					<section id="env-vars-in-42-seconds">
							<blockquote cite="https://fr.wikipedia.org/wiki/Variable_d%27environnement">
								En informatique, les variables d’environnement sont des variables dynamiques utilisées par les différents processus d’un système d’exploitation  (Windows, Unix, etc.) <a href="https://fr.wikipedia.org/wiki/Variable_d%27environnement" target="_blank" style="font-size:30px;float:right;margin:15px;">Wikipédia</a>
							</blockquote>
							<pre><code class="zsh" data-trim contenteditable>
							
									export PATH="$PATH:$HOME/.rvm/bin"
									export PATH="$HOME/.rbenv/bin:$PATH"
									eval "$(rbenv init -)"
									export PATH="$HOME/.rbenv/plugins/ruby-build/bin:$PATH"
									
								</code></pre>
					</section>

					<section>
						<h5>Des variables pour chaque environnement</h5>
							<img class="img-responsive" src="http://img.e-marketing.fr/Img/BREVE/2015/6/256198/Marketing-meteo-fait-pluie-beau-temps-F.jpg" style="max-height: 400px;">
						</section>

						<section>
							<p>
								On à un site avec 2 versions, une en dévelopement et une autre en production.
							</p>
							<p>Les variables d' environnement peuvent etre différentes pour chaque environnement pour le meme projet</p>
							
						</section>

						<section>
								<p>
										Example en dev on met en place une newsletter pour verifier la bonne fonctionalité de celle ci avant le passage en production on utilise un service comme <a href="https://mailtrap.io/" target="_target">Mailtrap</a> pour éviter de spammer notre mailing list de client</p>
									</p>
									<p>
										Celui-ci nous fournis des cléfs d' API (Application Programming Interface) pour l' envoie de mail, elle font partis de nos variables d' environnement pour notre serveur de dévelopement.
									</p>
									<p>
										La version en production utilisera d' autres variables d' environnements pour l' envoie de mail.
									</p>
						</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
