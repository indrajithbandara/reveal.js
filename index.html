<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>DotEnv 101</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/blood.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<style>
			.red{
				color:red;
			}
		</style>
		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

					

					<section id="one">
							<h3>La gem DotEnv</h3>
							<ol>
								<li>A quoi ça sert ?</li>
								<li>Comment on l' utilise</li>
								<li>Git &amp; Github <i class="fa fa-github-square" aria-hidden="true"> avec @showner</i>
								</li>
							</ol>
					</section>	
					
					<!-- Example of nested vertical slides -->

					

					<section id="dotenv-simple0">
							<h3><span class="red">DotEnv</span> c' est quoi ?</h3>
							<p>
								C' est une petite librairie écrite en Ruby <br>qui nous permet de modifier les <em><strong><span class="red">*variables <br>d' environnement</span></strong></em> pour nos projets. 	<img src="http://www.unixstickers.com/image/cache/data/stickers/ruby/ruby.sh-600x600.png" style="height:50px;margin:0px;
								background: none; 
								border: 0px; 
								box-shadow: none">
								<img src="http://www.skilly.com/mag/wp-content/uploads/2014/10/Ruby_on_Rails_logo.png
								" style="height:50px;margin:0px;
								background: none; 
								border: 0px; 
								box-shadow: none">
							</p>
								<p class="fragment" data-fragment-index="0" style="font-size:30px;">Sa marche  sur un script en local <i class="fa fa-check" style="font-size:48px;color:green"></i>
								</p>
								<p class="fragment" data-fragment-index="1" style="font-size:30px;">Mais aussi sur les plateformes comme Heroku <i class="fa fa-check" style="font-size:48px;color:green"></i></p>

							</section>			
							
							<section>
								<h3>Pourquoi ?</h3>
								Une des tâches habituelles lors du développement d'un site ou d'une application est de stocker des configurations qui dépendent de l'environnement sur lequel l'application va tourner et/ou qui sont secrètes et ne doivent pas être publiées dans le repository (comme les clés secrètes d'APIs tierces).
								<p class="red" style="font-size:30px"><a href="https://blog.bini.io/utiliser-des-fichiers-de-configuration-dans-une-application-node-js-avec-dotenv-2/" target="_blank">Utiliser des fichiers de configuration dans une application Node.js avec dotenv</a></p>
							</section>

							<section id="google-auth">
									<h3>Authentification Gmail</h3>
									<p>2 variables d' environnement</p>
									<img src="https://i.imgur.com/OuWDQ0U.png">	
									<p>Sans l' utilisation de <span class="red">DotEnv</span></p>						
									<pre ><code class="ruby" data-trim contenteditable>
											Gmail.connect("david@gmail.com", "password")				
										</code></pre>
										<p class="fragment" data-fragment-index="0" data-background-transition="zoom">Avec</p>
										<pre class="fragment" data-fragment-index="0" data-background-transition="zoom"><code class="ruby" data-trim contenteditable>
												Gmail.connect(ENV['GMAIL_USERNAME'], ENV['GMAIL_PASSWORD'])				
											</code></pre>
							</section>
		

					<section id="twitter-bot">
							<h3>Le bot twitter</h3>
							<p>4 variables d' environnement</p>
							<p class="fragment" data-fragment-index="0" style="font-size:30px;">1. consumer_key</p>
								<p class="fragment" data-fragment-index="1" style="font-size:30px;">2. consumer_secret</p>
								<p class="fragment" data-fragment-index="2" style="font-size:30px;">3. access_token</p>
								<p class="fragment" data-fragment-index="3" style="font-size:30px;">4. access_token_secret</p>

							<pre class="fragment" data-fragment-index="4" data-background-transition="zoom"><code class="ruby" data-trim contenteditable>
							
client = Twitter::REST::Client.new do |config|
  config.consumer_key = ENV['TWITTER_CONSUMER_KEY']
  config.consumer_secret = ENV['TWITTER_CONSUMER_SECRET']
  config.access_token = ENV['TWITTER_ACCESS_TOKEN']
  config.access_token_secret = ENV['TWITTER_ACCESS_SECRET']
end
									
								</code></pre>
					</section>

					<section>
							<p>Grace à <span class="red">DotEnv</span> ont peu mettre toutes nos variables d'environnement dans un fichier .env</p>
							<p>Dans le fichier .gitignore ont rajoutera simplement .env afin qu' il ne sois pas commit</p>
						</section>

						<section>
								<section>
									<h4>Première installation</h4>
									<p>On crée un dossier <em>demo-project</em> dans lequelle on crée un fichier Gemfile</p>
									<pre><code class="ruby">
source "https://rubygems.org"

gem "dotenv"
									</code></pre>		
									<img src="https://i.imgur.com/v4knWmL.png" alt="">
		
									<!-- <a href="#" class="navigate-down">
										<img width="25" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
									</a> -->
								</section>
		
								<section>
										<h4>Step 2</h4>
										<p>En ligne de commande</p>
									<pre><code class="zsh">
bundle install
								</code></pre>	
								<img src="https://i.imgur.com/RU5LIhs.png" alt="">
									</section>
								<section>
									<p>	Un Gemfile c' est un fichier que l' on crée qui est utilisé pour décrire les dépendances de gem pour les progammes Ruby.</p>
									<img src="https://i.imgur.com/Q95QqDR.png" alt="">
								</section>
								
								<section>
										<h4>Step 3</h4>
										<p>On crée un fichier .gitignore dans lequelle on rajoute le nom du fichier à ignorer .env</p>
										<img src="https://i.imgur.com/qjnMmSv.png" alt=""  class="fragment" data-fragment-index="0">
		<!-- 						img
									<a href="#/2">
										<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Up arrow" style="transform: rotate(180deg); -webkit-transform: rotate(180deg);">
									</a> -->
								</section>
		
								<section>
										<h4>Step 4</h4>
										<p>On peu maintenant rajouter des variables <br>d 'environnement dans notre fichier .env</p>
										<pre><code class="zsh">
# GMAIL CONNECTION
GMAIL_USERNAME=david@gmail.com
GMAIL_PASSWORD=password

# TWITTER API
TWITTER_CONSUMER_KEY=738d5ee5-ce38-44d4-b8f9-24c95de59b03
TWITTER_CONSUMER_SECRET=474a09c3-523e-498c-9f48-b0fcb0389b28
TWITTER_ACCESS_TOKEN=aef9bd74-b52f-40fd-aa5f-77f7e079f0e8
TWITTER_ACCESS_SECRET=64a84f8d-75cb-4689-8707-57937e5f7534
																		</code></pre> 				
								</section>
		
							</section>
	
					
					<section>
							<p>Lien : <a href="https://github.com/bkeepers/dotenv" target="_blank">https://github.com/bkeepers/dotenv</a></p>
							<img src="https://i.imgur.com/yCqcW9L.png">
						</section>

				

				

					

					<!-- <section>
						<img src="https://atomrace.com/blog/wp-content/uploads/2016/02/heroku-logo-trans.png" style="max-width:50%">
							<p>
								1 projet ecommerce avec 2 fichiers .env.development &amp; .env.production sur Heroku.
							</p>
							<p class="fragment" data-fragment-index="0" style="font-size:30px;">1. La version de développement</p>
							<p class="fragment" data-fragment-index="1" style="font-size:30px;">2. La version en production</p>
						</section>

						<section>
								<p>
										Sur la version de développement on crée une une newsletter. <br>Avant le passage en production, on utilisera un service comme <a href="https://mailtrap.io/" target="_target">mailtrap.io</a> pour éviter le spam.</p>
									</p>
						</section>
							
							
						<section>

								<p>
										Ce service nous fournis des clefs d' API <br>(Application Programming Interface) pour tester <br>l' envoi et la réception de mail, elle font partis de nos <em><strong><span class="red">variables d' environnement</span></strong></em>  pour notre <br><span style="text-decoration:underline">serveur de développement</span>.
									</p>
							


						</section>

						<section>

								<p>
										La version en production, utilisera d' autres <span clas="red">variables d' environnement</span> pour l' envoi de mail.
									</p>
						</section> -->

		

				

					
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
